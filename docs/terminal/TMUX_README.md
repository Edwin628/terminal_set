# Tmux ä½¿ç”¨æŒ‡å—

## ğŸ“‹ ç›®å½•
- [ç®€ä»‹](#ç®€ä»‹)
- [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
- [åŸºæœ¬æ¦‚å¿µ](#åŸºæœ¬æ¦‚å¿µ)
- [å¿«æ·é”®æ“ä½œ](#å¿«æ·é”®æ“ä½œ)
- [ä¼šè¯ç®¡ç†](#ä¼šè¯ç®¡ç†)
- [çª—å£æ“ä½œ](#çª—å£æ“ä½œ)
- [åˆ†å±æ“ä½œ](#åˆ†å±æ“ä½œ)
- [å¤åˆ¶ç²˜è´´](#å¤åˆ¶ç²˜è´´)
- [æ’ä»¶åŠŸèƒ½](#æ’ä»¶åŠŸèƒ½)
- [å®ç”¨æŠ€å·§](#å®ç”¨æŠ€å·§)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

## ğŸ¯ ç®€ä»‹

Tmux æ˜¯ä¸€ä¸ªç»ˆç«¯å¤ç”¨å™¨ï¼Œå…è®¸ä½ åœ¨ä¸€ä¸ªç»ˆç«¯çª—å£ä¸­è¿è¡Œå¤šä¸ªä¼šè¯ï¼Œæ¯ä¸ªä¼šè¯å¯ä»¥åŒ…å«å¤šä¸ªçª—å£å’Œçª—æ ¼ã€‚å³ä½¿æ–­å¼€è¿æ¥ï¼Œä¼šè¯ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚

### ä¸»è¦ä¼˜åŠ¿
- **æŒä¹…æ€§**ï¼šæ–­å¼€è¿æ¥åä¼šè¯ç»§ç»­è¿è¡Œ
- **å¤šä»»åŠ¡**ï¼šåŒæ—¶ç®¡ç†å¤šä¸ªé¡¹ç›®
- **åä½œ**ï¼šæ”¯æŒå¤šäººå…±äº«ä¼šè¯
- **æ•ˆç‡**ï¼šå¿«é€Ÿåˆ‡æ¢å’Œç®¡ç†ç»ˆç«¯ä»»åŠ¡

## ğŸ”§ å®‰è£…ä¸é…ç½®

### å®‰è£…
```bash
# macOS (Homebrew)
brew install tmux

# Ubuntu/Debian
sudo apt install tmux

# CentOS/RHEL
sudo yum install tmux
```

### é…ç½®æ–‡ä»¶
é…ç½®æ–‡ä»¶ä½ç½®ï¼š`~/.tmux.conf`

å½“å‰é…ç½®ç‰¹ç‚¹ï¼š
- å‰ç¼€é”®ï¼š`Ctrl + a`ï¼ˆæ›´ç¬¦åˆ GNU screen ä¹ æƒ¯ï¼‰
- å¯ç”¨é¼ æ ‡æ”¯æŒ
- 256 è‰²æ”¯æŒ
- çª—å£ç¼–å·ä» 1 å¼€å§‹
- æ— å‰ç¼€é”®çª—æ ¼åˆ‡æ¢ï¼ˆ`Ctrl + h/j/k/l`ï¼‰
- vi é£æ ¼å¤åˆ¶æ¨¡å¼
- ç¾åŒ–çŠ¶æ€æ 
- é›†æˆ TPM æ’ä»¶ç®¡ç†å™¨

## ğŸ—ï¸ åŸºæœ¬æ¦‚å¿µ

### å±‚çº§ç»“æ„
```
Tmux Server
â”œâ”€â”€ Session (ä¼šè¯)
â”‚   â”œâ”€â”€ Window (çª—å£)
â”‚   â”‚   â”œâ”€â”€ Pane (çª—æ ¼)
â”‚   â”‚   â””â”€â”€ Pane (çª—æ ¼)
â”‚   â””â”€â”€ Window (çª—å£)
â””â”€â”€ Session (ä¼šè¯)
```

### æœ¯è¯­è¯´æ˜
- **Session (ä¼šè¯)**ï¼šç‹¬ç«‹çš„ tmux ç¯å¢ƒ
- **Window (çª—å£)**ï¼šä¼šè¯ä¸­çš„æ ‡ç­¾é¡µ
- **Pane (çª—æ ¼)**ï¼šçª—å£ä¸­çš„åˆ†å±åŒºåŸŸ
- **Prefix (å‰ç¼€é”®)**ï¼šæ‰€æœ‰ tmux å‘½ä»¤çš„å‰ç½®æŒ‰é”®

## âŒ¨ï¸ å¿«æ·é”®æ“ä½œ

### å‰ç¼€é”®
- **å‰ç¼€é”®**ï¼š`Ctrl + a`
- **å‘é€å‰ç¼€**ï¼š`Ctrl + a, Ctrl + a`

### å‘½ä»¤æ¨¡å¼
- **è¿›å…¥å‘½ä»¤æ¨¡å¼**ï¼š`Ctrl + a, :`
- **é€€å‡ºå‘½ä»¤æ¨¡å¼**ï¼š`Esc`

### æ— å‰ç¼€é”®å¿«æ·é”®ï¼ˆæ–°åŠŸèƒ½ï¼‰
- **çª—æ ¼åˆ‡æ¢**ï¼š`Ctrl + h/j/k/l`ï¼ˆæ— éœ€æŒ‰å‰ç¼€é”®ï¼‰
- **æ›´è‡ªç„¶çš„æ“ä½œä½“éªŒ**

## ğŸ’¼ ä¼šè¯ç®¡ç†

### åˆ›å»ºä¼šè¯
```bash
# åˆ›å»ºæ–°ä¼šè¯
tmux

# åˆ›å»ºå‘½åä¼šè¯
tmux new-session -s ä¼šè¯å

# åˆ›å»ºåˆ†ç¦»çš„ä¼šè¯
tmux new-session -d -s ä¼šè¯å
```

### ä¼šè¯æ“ä½œ
```bash
# åˆ—å‡ºæ‰€æœ‰ä¼šè¯
tmux ls
tmux list-sessions

# è¿æ¥åˆ°ä¼šè¯
tmux attach
tmux attach -t ä¼šè¯å
tmux a -t ä¼šè¯å

# åˆ†ç¦»ä¼šè¯ï¼ˆä¿æŒè¿è¡Œï¼‰
Ctrl + a, d

# é‡å‘½åä¼šè¯
Ctrl + a, $

# æ€æ­»ä¼šè¯
tmux kill-session -t ä¼šè¯å
tmux kill-server  # æ€æ­»æ‰€æœ‰ä¼šè¯
```

### ä¼šè¯å†…å¿«æ·é”®
```bash
# åˆ†ç¦»ä¼šè¯
Ctrl + a, d

# é‡å‘½åä¼šè¯
Ctrl + a, $

# åˆ—å‡ºä¼šè¯
Ctrl + a, s
```

## ğŸªŸ çª—å£æ“ä½œ

### åˆ›å»ºçª—å£
```bash
# åˆ›å»ºæ–°çª—å£
Ctrl + a, c

# åˆ›å»ºå‘½åçª—å£
Ctrl + a, ,
```

### çª—å£åˆ‡æ¢
```bash
# æŒ‰ç¼–å·åˆ‡æ¢
Ctrl + a, 0-9

# ä¸‹ä¸€ä¸ªçª—å£
Ctrl + a, n

# ä¸Šä¸€ä¸ªçª—å£
Ctrl + a, p

# çª—å£åˆ—è¡¨
Ctrl + a, w
```

### çª—å£ç®¡ç†
```bash
# å…³é—­å½“å‰çª—å£
Ctrl + a, &

# é‡å‘½åçª—å£
Ctrl + a, ,

# ç§»åŠ¨çª—å£
Ctrl + a, .

# çª—å£åˆ—è¡¨
Ctrl + a, w
```

## ğŸ“± åˆ†å±æ“ä½œ

### åˆ›å»ºåˆ†å±
```bash
# å‚ç›´åˆ†å±ï¼ˆå·¦å³ï¼‰
Ctrl + a, |

# æ°´å¹³åˆ†å±ï¼ˆä¸Šä¸‹ï¼‰
Ctrl + a, -
```

### çª—æ ¼åˆ‡æ¢
```bash
# æ— å‰ç¼€é”®åˆ‡æ¢ï¼ˆæ¨èï¼‰
Ctrl + h  # å·¦
Ctrl + l  # å³
Ctrl + j  # ä¸‹
Ctrl + k  # ä¸Š

# å¸¦å‰ç¼€é”®åˆ‡æ¢ï¼ˆå¤‡ç”¨ï¼‰
Ctrl + a, h  # å·¦
Ctrl + a, l  # å³
Ctrl + a, j  # ä¸‹
Ctrl + a, k  # ä¸Š

# å¾ªç¯åˆ‡æ¢
Ctrl + a, o
```

### çª—æ ¼ç®¡ç†
```bash
# è°ƒæ•´çª—æ ¼å¤§å°
Ctrl + a, : resize-pane -L 10  # å‘å·¦è°ƒæ•´10å­—ç¬¦
Ctrl + a, : resize-pane -R 10  # å‘å³è°ƒæ•´10å­—ç¬¦
Ctrl + a, : resize-pane -U 10  # å‘ä¸Šè°ƒæ•´10è¡Œ
Ctrl + a, : resize-pane -D 10  # å‘ä¸‹è°ƒæ•´10è¡Œ

# å…³é—­çª—æ ¼
Ctrl + a, x

# é‡æ–°æ’åˆ—çª—æ ¼
Ctrl + a, Space

# åˆ‡æ¢çª—æ ¼å¸ƒå±€
Ctrl + a, {
Ctrl + a, }
```

## ğŸ“‹ å¤åˆ¶ç²˜è´´

### è¿›å…¥å¤åˆ¶æ¨¡å¼
```bash
# è¿›å…¥å¤åˆ¶æ¨¡å¼
Ctrl + a, [
```

### å¤åˆ¶æ¨¡å¼æ“ä½œ
```bash
# è¿›å…¥å¤åˆ¶æ¨¡å¼
Ctrl + a, [

# vi é£æ ¼æ“ä½œ
v                    # å¼€å§‹é€‰æ‹©
hjkl                 # ç§»åŠ¨é€‰æ‹©
y                    # å¤åˆ¶é€‰ä¸­å†…å®¹
Enter                # ç¡®è®¤å¤åˆ¶

# ä¼ ç»Ÿæ“ä½œ
Space                # å¼€å§‹é€‰æ‹©
æ–¹å‘é”®               # ç§»åŠ¨é€‰æ‹©
Enter                # å¤åˆ¶é€‰ä¸­å†…å®¹

# ç²˜è´´
Ctrl + a, ]

# é€€å‡ºå¤åˆ¶æ¨¡å¼
q
```

### ç³»ç»Ÿå‰ªè´´æ¿é›†æˆ
```bash
# å¤åˆ¶åˆ°ç³»ç»Ÿå‰ªè´´æ¿
Ctrl + a, : set-option -s set-clipboard off
Ctrl + a, : bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "pbcopy"
```

## ğŸ”Œ æ’ä»¶åŠŸèƒ½

### å·²å®‰è£…æ’ä»¶
- **tpm**ï¼šæ’ä»¶ç®¡ç†å™¨
- **tmux-sensible**ï¼šåˆç†é»˜è®¤è®¾ç½®
- **tmux-resurrect**ï¼šä¿å­˜/æ¢å¤ä¼šè¯
- **tmux-continuum**ï¼šè‡ªåŠ¨ä¿å­˜ä¼šè¯

### æ’ä»¶æ“ä½œ
```bash
# ä¿å­˜ä¼šè¯
Ctrl + a, Ctrl + s

# æ¢å¤ä¼šè¯
Ctrl + a, Ctrl + r

# é‡æ–°åŠ è½½é…ç½®
Ctrl + a, :
# ç„¶åè¾“å…¥ï¼šsource-file ~/.tmux.conf
```

### æ’ä»¶ç®¡ç†
```bash
# å®‰è£…æ’ä»¶
Ctrl + a, I (å¤§å†™i)

# å¸è½½æ’ä»¶
Ctrl + a, Alt + u

# æ›´æ–°æ’ä»¶
Ctrl + a, Alt + u
```

## ğŸ’¡ å®ç”¨æŠ€å·§

### åŒæ­¥çª—æ ¼
```bash
# åŒæ­¥æ‰€æœ‰çª—æ ¼ï¼ˆåŒæ—¶æ‰§è¡Œç›¸åŒå‘½ä»¤ï¼‰
Ctrl + a, :
# ç„¶åè¾“å…¥ï¼š
setw synchronize-panes on

# å…³é—­åŒæ­¥
setw synchronize-panes off
```

### çª—æ ¼äº¤æ¢
```bash
# äº¤æ¢çª—æ ¼ä½ç½®
Ctrl + a, {
Ctrl + a, }
```

### æœ€å¤§åŒ–çª—æ ¼
```bash
# ä¸´æ—¶æœ€å¤§åŒ–çª—æ ¼
Ctrl + a, z

# å†æ¬¡æŒ‰æ¢å¤
Ctrl + a, z
```

### çª—æ ¼ç¼–å·
```bash
# æ˜¾ç¤ºçª—æ ¼ç¼–å·
Ctrl + a, q
```

## ğŸ¨ çŠ¶æ€æ è¯´æ˜

### çŠ¶æ€æ ä½ç½®
- **ä½ç½®**ï¼šåº•éƒ¨
- **åˆ·æ–°é—´éš”**ï¼š1ç§’
- **å¯¹é½æ–¹å¼**ï¼šå±…ä¸­

### çŠ¶æ€æ å†…å®¹
- **å·¦ä¾§**ï¼š`ä¼šè¯å çª—å£:çª—æ ¼å·`
- **å³ä¾§**ï¼š`æ—¥æœŸ æ—¶é—´`
- **ä¸­é—´**ï¼šçª—å£åˆ—è¡¨ï¼ˆå½“å‰çª—å£é«˜äº®ï¼‰

### é¢œè‰²è¯´æ˜
- **ç»¿è‰²**ï¼šä¼šè¯å
- **é’è‰²**ï¼šçª—å£å’Œçª—æ ¼ä¿¡æ¯
- **é»„è‰²**ï¼šæ—¥æœŸå’Œæ—¶é—´
- **ç™½è‰²**ï¼šé»˜è®¤æ–‡æœ¬
- **äº®çº¢è‰²**ï¼šå½“å‰çª—å£

## ğŸš€ å¸¸ç”¨å·¥ä½œæµç¨‹

### å¼€å‘ç¯å¢ƒè®¾ç½®
```bash
# 1. åˆ›å»ºå¼€å‘ä¼šè¯
tmux new-session -s dev

# 2. åˆ›å»ºåˆ†å±
Ctrl + a, |    # å‚ç›´åˆ†å±
Ctrl + a, -    # æ°´å¹³åˆ†å±

# 3. åœ¨ä¸åŒçª—æ ¼ä¸­è¿è¡Œä¸åŒå‘½ä»¤
# çª—æ ¼1ï¼šè¿è¡ŒæœåŠ¡å™¨ (npm start)
# çª—æ ¼2ï¼šç¼–è¾‘ä»£ç  (vim)
# çª—æ ¼3ï¼šè¿è¡Œæµ‹è¯• (npm test)
# çª—æ ¼4ï¼šç›‘æ§æ—¥å¿— (tail -f)

# 4. åˆ†ç¦»ä¼šè¯
Ctrl + a, d

# 5. ç¨åé‡æ–°è¿æ¥
tmux attach -t dev
```

### æœåŠ¡å™¨ç®¡ç†
```bash
# 1. åˆ›å»ºæœåŠ¡å™¨ç®¡ç†ä¼šè¯
tmux new-session -s server

# 2. åˆ›å»ºå¤šä¸ªçª—å£
Ctrl + a, c    # çª—å£1ï¼šç³»ç»Ÿç›‘æ§
Ctrl + a, c    # çª—å£2ï¼šæ—¥å¿—æŸ¥çœ‹
Ctrl + a, c    # çª—å£3ï¼šé…ç½®ç¼–è¾‘

# 3. é‡å‘½åçª—å£
Ctrl + a, ,    # é‡å‘½åä¸º "monitor"
Ctrl + a, c    # æ–°çª—å£
Ctrl + a, ,    # é‡å‘½åä¸º "logs"
```

### å¤šé¡¹ç›®å¼€å‘
```bash
# 1. ä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºä¼šè¯
tmux new-session -s project1
tmux new-session -s project2
tmux new-session -s project3

# 2. åœ¨ä¼šè¯é—´åˆ‡æ¢
tmux attach -t project1
Ctrl + a, d
tmux attach -t project2
```

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•ä¿®æ”¹å‰ç¼€é”®ï¼Ÿ
A: åœ¨ `~/.tmux.conf` ä¸­ä¿®æ”¹ï¼š
```bash
set -g prefix C-b  # æ”¹ä¸º Ctrl + b
```

### Q: å¦‚ä½•å¯ç”¨é¼ æ ‡æ”¯æŒï¼Ÿ
A: åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ï¼š
```bash
set -g mouse on
```

### Q: å¦‚ä½•è°ƒæ•´çŠ¶æ€æ ä½ç½®ï¼Ÿ
A: åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```bash
set -g status-position top    # é¡¶éƒ¨
set -g status-position bottom # åº•éƒ¨
```

### Q: å¦‚ä½•è‡ªå®šä¹‰çŠ¶æ€æ ï¼Ÿ
A: ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­çš„çŠ¶æ€æ è®¾ç½®ï¼š
```bash
set -g status-left "è‡ªå®šä¹‰å·¦ä¾§å†…å®¹"
set -g status-right "è‡ªå®šä¹‰å³ä¾§å†…å®¹"
```

### Q: å¦‚ä½•ä¿å­˜ä¼šè¯å¸ƒå±€ï¼Ÿ
A: ä½¿ç”¨ tmux-resurrect æ’ä»¶ï¼š
```bash
Ctrl + a, Ctrl + s  # ä¿å­˜
Ctrl + a, Ctrl + r  # æ¢å¤
```

### Q: å¦‚ä½•åŒæ­¥å¤šä¸ªçª—æ ¼ï¼Ÿ
A: ä½¿ç”¨åŒæ­¥çª—æ ¼åŠŸèƒ½ï¼š
```bash
Ctrl + a, :
setw synchronize-panes on
```

## ğŸ“š è¿›é˜¶é…ç½®

### è‡ªå®šä¹‰å¿«æ·é”®
```bash
# åœ¨ ~/.tmux.conf ä¸­æ·»åŠ 
bind-key -n C-s send-keys -R \; clear-history
bind-key -n C-l send-keys 'C-l'
```

### ä¸»é¢˜å®šåˆ¶
```bash
# ä¿®æ”¹çŠ¶æ€æ é¢œè‰²
set -g status-bg colour235
set -g status-fg white
setw -g window-status-current-format '#[fg=brightred]#I:#W#F'
```

### æ€§èƒ½ä¼˜åŒ–
```bash
# æ›´å¿«çš„æŒ‰é”®å“åº”
set -sg escape-time 0

# å¯ç”¨ 256 è‰²
set -g default-terminal "screen-256color"
```

## ğŸ”— ç›¸å…³èµ„æº

- [Tmux å®˜æ–¹æ–‡æ¡£](https://github.com/tmux/tmux/wiki)
- [Tmux å¿«æ·é”®é€ŸæŸ¥è¡¨](https://tmuxcheatsheet.com/)
- [TPM æ’ä»¶ç®¡ç†å™¨](https://github.com/tmux-plugins/tpm)
- [Tmux æœ€ä½³å®è·µ](https://www.hamvocke.com/blog/a-quick-and-easy-guide-to-tmux/)

---

**æç¤º**ï¼šè®°ä½å‰ç¼€é”®æ˜¯ `Ctrl + a`ï¼Œæ‰€æœ‰ tmux å‘½ä»¤éƒ½éœ€è¦å…ˆæŒ‰å‰ç¼€é”®ï¼ 